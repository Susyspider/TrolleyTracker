<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
		<meta charset="utf-8">
		<title>UPRM Trolley Routes</title>
		<style>
			html, body, #map-canvas {
				height: 100%;
				margin: 0px;
				padding: 0px
			}
		</style>
		<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=geometry&sensor=false"></script>
		<script type="text/javascript" src="appjs/vars.js"></script>
		<script type="text/javascript" src="appjs/func.js"></script>
		<script>

			function initialize() {
				
				// MAP PROPERTIES -------------------------------------------------------------------------------------
				var UPRM = new google.maps.LatLng(18.209438, -67.140543);
				
				var mapOptions = {
					zoom : 17,
					center : UPRM,
					mapTypeId : google.maps.MapTypeId.ROADMAP,
					disableDefaultUI : true
				};

				map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

				var opt = {
					minZoom : 16,
					maxZoom : 18
				};
				
				map.setOptions(opt);
				
				//ANIMATED SYMBOLS-------------------------------------------------------------------------------------
				var route1Symbol = {
					path : google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					scale : 5,
					strokeColor : '#000000',
					strokeWeight : 2,
					fillOpacity : 1,
					fillColor : '#FF0000'
				};

				var route2Symbol  = {
					path : google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					scale : 5,
					strokeColor : '#000000',
					strokeWeight : 2,
					fillOpacity : 1,
					fillColor : '#FFFF00'
				};

				var route3Symbol = {
					path : google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					scale : 5,
					strokeColor : '#000000',
					strokeWeight : 2,
					fillOpacity : 1,
					fillColor : '#FF00FF'
				};

				var route4Symbol = {
					path : google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					scale : 5,
					strokeColor : '#000000',
					strokeWeight : 2,
					fillOpacity : 1,
					fillColor : '#00FF00'
				};

				var route5Symbol = {
					path : google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					scale : 5,
					strokeColor : '#000000',
					strokeWeight : 2,
					fillOpacity : 1,
					fillColor : '#00FFFF'
				};
				
				// ROUTE POLYLINES ------------------------------------------------------------------------------------
				var route1 = new google.maps.Polyline({
					visible : false,
					path : Palacio,
					strokeColor : '#FF0000',
					strokeOpacity : 0.6,
					strokeWeight : 10,
					icons : [{
						icon : route1Symbol,
						offset : '100%'
					}],
					map : map
				});

				var route2 = new google.maps.Polyline({
					path : Interno,
					strokeColor : '#FFFF00',
					strokeOpacity : 0.6,
					strokeWeight : 10,
					icons : [{
						icon : route2Symbol,
						offset : '100%'
					}],
					map : map
				});

				var route3 = new google.maps.Polyline({
					visible : false,
					path : Terrace,
					strokeColor : '#FF00FF',
					strokeOpacity : 0.6,
					strokeWeight : 10,
					icons : [{
						icon : route3Symbol,
						offset : '100%'
					}],
					map : map
				});

				var route4 = new google.maps.Polyline({
					visible : false,
					path : Darlington,
					strokeColor : '#00FF00',
					strokeOpacity : 0.6,
					strokeWeight : 10,
					icons : [{
						icon : route4Symbol,
						offset : '100%'
					}],
					map : map
				});

				var route5 = new google.maps.Polyline({
					visible : false,
					path : Zoologico,
					strokeColor : '#00FFFF',
					strokeOpacity : 0.6,
					strokeWeight : 10,
					icons : [{
						icon : route5Symbol,
						offset : '100%'
					}],
					map : map
				});
				
				// UI Controls ----------------------------------------------------------------------------------------
				var controlDiv = document.createElement('div');
				
				var route1Control = new RouteControl(controlDiv, map, 'Click to toggle Route 1 visibility', 'Palacio', route1);
				var route2Control = new RouteControl(controlDiv, map, 'Click to toggle Route 2 visibility', 'Interno', route2);
				var route3Control = new RouteControl(controlDiv, map, 'Click to toggle Route 3 visibility', 'Terrace', route3);
				var route4Control = new RouteControl(controlDiv, map, 'Click to toggle Route 4 visibility', 'Darlington', route4);
				var route5Control = new RouteControl(controlDiv, map, 'Click to toggle Route 5 visibility', 'Zoologico', route5);
				var defaultViewControl = new DefaultViewControl(controlDiv, map, UPRM);

				controlDiv.index = 1;
				map.controls[google.maps.ControlPosition.TOP_RIGHT].push(controlDiv);

				// TROLLEY MARKERS ------------------------------------------------------------------------------------
				var route2_trolley = new google.maps.Marker({
					position : interno_trolley[0],
					title : "interno_trolley"
				});
				
				// OTHER FUNCS ----------------------------------------------------------------------------------------
				animateSymbol(route1);
				animateSymbol(route2);
				animateSymbol(route3);
				animateSymbol(route4);
				animateSymbol(route5);
				
				animateMarker(route2_trolley,interno_trolley,route2);
				
				route2_trolley.setMap(map);
			}

			google.maps.event.addDomListener(window, 'load', initialize);
		</script>
	</head>
	<body>
		<div id="map-canvas"></div>
	</body>
</html>